
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Old Dutch Translator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            background-color: #f7f7f7;
        }

        textarea {
            width: 80%;
            height: 100px;
            margin: 10px 0;
            font-size: 1rem;
        }

        button {
            padding: 10px 20px;
            font-size: 1rem;
            cursor: pointer;
        }

        #response {
            margin-top: 20px;
            padding: 10px;
            width: 80%;
            background: #fff;
            border: 1px solid #ccc;
        }
    </style>
</head>
<body>
    <h1>Old Dutch Translator</h1>
    <textarea id="input" placeholder="Enter Old Dutch text here..."></textarea>
    <button onclick="translateText()">Translate</button>
    <div id="response"></div>

    <script>
        async function translateText() {
            const inputText = document.getElementById('input').value;
            const responseDiv = document.getElementById('response');

            responseDiv.textContent = 'Translating, please wait...';

            try {
                const response = await fetch('http://localhost:8000/v1/chat/completions', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': 'Bearer EMPTY' // No key needed for local setup
                    },
                    body: JSON.stringify({
                        model: "meta-llama/Llama-3.1-8B-Instruct", // Correct model
                        messages: [
                            {
                                role: "system",
                                content: `
                                    Je bent een taalexpert gespecialiseerd in het vertalen van oude Nederlandse teksten naar
                                    eenvoudig en modern Nederlands. Je taak is om historische teksten zo duidelijk mogelijk te vertalen
                                    naar een begrijpelijke en vloeiende moderne tekst, zonder de betekenis te verliezen. Maak de tekst 
                                    simpel, maar behoud de betekenis en context.
                                `
                            },
                            {
                                role: "user",
                                content: `Vertaal de volgende oude Nederlandse tekst naar modern Nederlands. Houd de tekst eenvoudig, begrijpelijk, 
                                    en vloeiend voor een modern publiek. Zorg ervoor dat de historische context behouden blijft:\n\n${inputText}`
                            }
                        ],
                        temperature: 0.3,
                        top_p: 1,
                        frequency_penalty: 0,
                        presence_penalty: 0
                    })
                });

                const data = await response.json();

                if (data.error) {
                    responseDiv.textContent = 'An error occurred: ' + data.error.message;
                } else if (data.choices && data.choices[0]?.message?.content) {
                    responseDiv.textContent = data.choices[0].message.content;
                } else {
                    responseDiv.textContent = 'No translation available. Please check the input.';
                }
            } catch (error) {
                responseDiv.textContent = 'An error occurred: ' + error.message;
                console.error("Error:", error);
            }
        }
    </script>
</body>
</html>

    </script>
</body>
</html>

